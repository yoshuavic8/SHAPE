(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{90532:(e,s,t)=>{Promise.resolve().then(t.bind(t,99956))},99956:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x});var r=t(95155),i=t(12115),a=t(35695),l=t(88482),n=t(97168),c=t(53999);function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-md bg-muted",s),...t})}var o=t(46414),u=t(14503),h=t(5838);function x(){let e=(0,a.useRouter)(),{toast:s}=(0,u.dj)(),[t,c]=(0,i.useState)(!0),[x,p]=(0,i.useState)({spiritual_gifts:!1,heart_desire:!1,personality:!1,experiences:!1});(0,i.useEffect)(()=>{(async()=>{try{let{data:{session:s}}=await o.N.auth.getSession();if(!s){e.push("/auth/login");return}let{data:t,error:r}=await o.N.from("questionnaire_results").select("*").eq("user_id",s.user.id).single();if(r)throw r;t&&p({spiritual_gifts:Object.keys(t.spiritual_gifts||{}).length>0,heart_desire:Object.keys(t.heart_desire||{}).length>0,personality:Object.keys(t.personality||{}).length>0,experiences:Object.keys(t.experiences||{}).length>0})}catch(e){console.error("Error checking progress:",e),s({title:"Error",description:"Failed to load your progress. Please try again.",variant:"destructive"})}finally{c(!1)}})()},[e,s]);let f=()=>x.spiritual_gifts?x.heart_desire?x.personality?x.experiences?"/results":"/questionnaire/experiences":"/questionnaire/personality":"/questionnaire/heart":"/questionnaire/spiritual";return(0,r.jsxs)("div",{className:"space-y-6 py-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Continue Your Questionnaire"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"You can continue from where you left off or restart any section."})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Your Progress"}),(0,r.jsx)(l.BT,{children:"Here's what you've completed so far."})]}),(0,r.jsx)(l.Wu,{className:"space-y-4",children:t?(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)(d,{className:"h-4 w-full"}),(0,r.jsx)(d,{className:"h-4 w-full"}),(0,r.jsx)(d,{className:"h-4 w-full"}),(0,r.jsx)(d,{className:"h-4 w-full"})]}):(0,r.jsx)("div",{className:"space-y-4",children:h.My.map(s=>{let t=x[s.id];return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium",children:s.title}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:s.description})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"h-3 w-3 rounded-full ".concat(t?"bg-green-500":"bg-gray-300")}),(0,r.jsx)("span",{className:"text-sm",children:t?"Completed":"Not started"}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>e.push("/questionnaire/".concat(s.id)),children:t?"Edit":"Start"})]})]},s.id)})})}),(0,r.jsx)(l.wL,{children:(0,r.jsx)(n.$,{onClick:()=>{let s=f();e.push(s)},disabled:t,className:"w-full",children:"Continue from Where You Left Off"})})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[352,769,257,441,684,358],()=>s(90532)),_N_E=e.O()}]);